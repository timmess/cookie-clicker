
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <title>Hello React</title>
    <!-- Library -->
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="css/app.css">
</head>

<body>
<div id="root"></div>
<script type="text/babel">

let littleCookieImg = <img src="./img/cookie2.png" className="littleCookieImg"/>;
let middleCookieImg =<img src="./img/cookie2.png" className="clickersCookieImg"/>;

  // Création de composant en créant des classes

  class Image extends React.Component{
    constructor(props){
        super(props);
    }

    render() {
        return(
            <div>
                <img className={this.props.className} src={this.props.src}></img>
            </div>
        )
    }
  }
  
  class GlobalIncomeRiseButton extends React.Component{
    constructor(props){
        super(props);
    }

    render() {
        return(
            <div>
                <button className="btn btn-success" disabled={this.props.disabled} onClick={this.props.click}>Cliquer</button>
            </div>
        )
    }
  }

  class App extends React.Component {

    constructor() {
        super();
        this.state = {
            counter: 0,
            incrementClickCounter: 1,
            incrementClickPrice: 1000,
            bigCookies: 0,
            demesuredCookies: 0,
            gargantueskCookies: 0,
            cookiesPerSecond: 0,
            clicks: 0,
            clickers: [
                {
                    name: "mothers",
                    number: 0,
                    cookiesPerSecond: 1,
                    price: 20,
                    increment: 10,
                },
                {
                    name: "cooks",
                    number: 0,
                    cookiesPerSecond: 5,
                    price: 50,
                    increment: 20,
                }
            ],
            mothers: 0,
            mothersPrice: 20,
            cooks: 0,
            cooksPrice: 50,
            mothersCooks: 0,
            mothersCooksPrice: 500,
            chiefsMothers: 0,
            chiefsMothersPrice: 5000,
            interval: 1000,
            newInterval: 0,
            message: "",
            successes:
                    [
                        {
                            name: "Un petit effort...",
                            but: "10 clicks",
                            clicks: 10,
                            message: "Bravo, vous avez clické 10 fois",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Il y a du cookie sur la planche !!",
                            but: "50 clicks",
                            clicks: 50,
                            message: "Bravo, vous avez clické 50 fois",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "La pâte commence à monter !",
                            but: "100 clicks",
                            clicks: 100,
                            message: "Bravo, vous avez clické 100 fois",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Tu t'es levé tôt !",
                            but: "250 clicks",
                            clicks: 250,
                            message: "Bravo, vous avez clické 250 fois",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Maitre cuisinier !",
                            but: "1000 clicks",
                            clicks: 1000,
                            message: "Bravo, vous avez clické 1000 fois",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Où ai-je mis mon dentier ??",
                            but: "1 grand-mère",
                            mothers: 1,
                            message: "Bravo, vous avez acheté 1 grand-mères",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Il va falloir plus de cannes...",
                            but: "10 grand-mère",
                            mothers: 10,
                            message: "Bravo, vous avez acheté 10 grand-mères",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Tu es la bonne voie, fils !",
                            but: "50 grand-mère",
                            mothers: 50,
                            message: "Bravo, vous avez acheté 50 grand-mères",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Directeur d'EHPAD",
                            but: "100 grand-mère",
                            mothers: 100,
                            message: "Bravo, vous avez acheté 100 grand-mères",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Bourreau des coeurs",
                            but: "1000 grand-mère",
                            mothers: 1000,
                            message: "Bravo, vous avez acheté 1000 grand-mères",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Apprenti cuisinier",
                            but: "1 cuisinier",
                            cooks: 1,
                            message: "Bravo, vous avez acheté 1 cuisinier",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Tu commences à prendre du gallon",
                            but: "10 cuisinier",
                            cooks: 10,
                            message: "Bravo, vous avez acheté 10 Cuisiniers",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Tu veux être chef ?",
                            but: "50 cuisinier",
                            cooks: 50,
                            message: "Bravo, vous avez acheté 50 Cuisiniers",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Ton nom c'est Philippe ?",
                            but: "100 cuisinier",
                            cooks: 100,
                            message: "Bravo, vous avez acheté 100 Cuisiniers",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Animateur Top Chef",
                            but: "1000 cuisinier",
                            cooks: 1000,
                            message: "Bravo, vous avez acheté 1000 Cuisiniers",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "La crème des grand-mères !",
                            but: "1 grand-mère cuisinière",
                            mothersCooks: 1,
                            message: "Bravo, vous avez acheté 1 Grand-mère cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Quelle hardeur !!",
                            but: "10 grand-mère cuisinière",
                            mothersCooks: 10,
                            message: "Bravo, vous avez acheté 10 Grand-mère cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "On ne l'arette plus !",
                            but: "50 grand-mère cuisinière",
                            mothersCooks: 50,
                            message: "Bravo, vous avez acheté 50 Grand-mère  cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Cuisinière jusqu'à la mort !",
                            but: "100 grand-mère cuisinière",
                            mothersCooks: 100,
                            message: "Bravo, vous avez acheté 100 Grand-mère cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Maïté je t'ai vu la...",
                            but: "1000 grand-mère cuisinière",
                            mothersCooks: 1000,
                            message: "Bravo, vous avez acheté 1000 Grand-mère cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "La crème des cheffes !",
                            but: "1 grand-mère cheffe cuisinière",
                            chiefsMothers: 1,
                            message: "Bravo, vous avez acheté 1 Grand-mère cheffe cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Je te ressers une assiette !!",
                            but: "10 grand-mère cheffe cuisinière",
                            chiefsMothers: 10,
                            message: "Bravo, vous avez acheté 10 Grand-mère cheffe cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Tant de grand-mères dans une si petite cuisine ??",
                            but: "50 grand-mère cheffe cuisinière",
                            chiefsMothers: 50,
                            message: "Bravo, vous avez acheté 50 Grand-mère cheffe cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Il va falloir songer à appeler sa grand-mère",
                            but: "100 grand-mère cheffe cuisinière",
                            chiefsMothers: 100,
                            message: "Bravo, vous avez acheté 100 Grand-mère cheffe cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "Grandma style !!",
                            but: "1000 grand-mère cheffe cuisinière",
                            chiefsMothers: 1000,
                            message: "Bravo, vous avez acheté 1000 Grand-mère cheffe cuisinière",
                            complete: false,
                            isDisplayed: false,
                            isClicked: false,
                        },
                        {
                            name: "De gros cookies",
                            but: "1 gros cookie",
                            bigCookies: 1,
                            message: "Bravo, vous avez obtenu un gros cookie !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "Plus de gros cookies !",
                            but: "10 gros cookie",
                            bigCookies: 10,
                            message: "Bravo, vous avez obtenu 10 gros cookie !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "Il va falloir construire une usine..",
                            but: "100 gros cookie",
                            bigCookies: 100,
                            message: "Bravo, vous avez obtenu 100 gros cookie !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "Willie Wonka !",
                            but: "1000 gros cookie",
                            bigCookies: 1000,
                            message: "Bravo, vous avez obtenu 1000 gros cookie !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "Un cookie hors-norme",
                            but: "1 cookie démesuré",
                            demesuredCookies: 1,
                            message: "Bravo, vous avez obtenu un cookie démesuré !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "Cookies continentaux",
                            but: "10 gros cookie",
                            demesuredCookies: 10,
                            message: "Bravo, vous avez obtenu 10 cookies démesurés !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "Un cookie de la taille de ma...",
                            but: "1 cookie démesuré",
                            gargantueskCookies: 1,
                            message: "Bravo, vous avez obtenu un cookie gargantuesque !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                        {
                            name: "...motivation pour développer un cookie clicker :DDDDD",
                            but: "10 gros cookie",
                            gargantueskCookies: 10,
                            message: "Bravo, vous avez obtenu 10 cookies gargantuesques !",
                            complete: false,
                            isDisplayed : false,
                            isClicked: false,
                        },
                    ],
        }

        this.incrementCounter = this.incrementCounter.bind(this);
        this.updateCookiesCounter = this.updateCookiesCounter.bind(this);
        this.recruitMother = this.recruitMother.bind(this);
        this.recruitCook = this.recruitCook.bind(this);
        this.setComplete = this.setComplete.bind(this);
        this.updateCookieCounterBySuccess = this.updateCookieCounterBySuccess.bind(this);
        this.componentDidUpdate = this.componentDidUpdate.bind(this);
        this.lowerInterval = this.lowerInterval.bind(this);
        this.setClicked = this.setClicked.bind(this);
        this.recruitMothersCook = this.recruitMothersCook.bind(this);
        this.recruitChiefMothers = this.recruitChiefMothers.bind(this);
        this.incrementClick = this.incrementClick.bind(this);
        
        this.interval = setInterval(this.updateCookiesCounter, this.state.interval);


    }

    render() {
        return (
        <div className="appMargin">

            <div className="container-fluid align-self-center">
                <div className="row">
                    
                    <div className="col-2 border colorNougat rounded">
                        <div className="m-2 padding10">
                            <h4>Succès : </h4>
                            <p> 0 / {this.state.successes.length} achevés</p>
                            <div className="container paddingLeftNull">
                                <div className="row">
                                    {this.state.successes.map((success, index) => success.complete === true &&
                                        <div className="col-6 border border-secondary" key={index}>
                                            <span className="fw-bold">{success.name}</span> {success.complete === true ? <img src="./img/checked.png" className="littleCookieImg"/> : ""} <br/>({success.but})
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="col-2 text-center colorNougat padding10 rounded">
                        <h3>Travailleurs :</h3>
                            <div className="mt-3">
                                <button className="btn btn-dark" disabled={this.state.counter < this.state.mothersPrice} onClick={this.recruitMother}>Recruter une grand mère ({this.state.mothersPrice} <img src="./img/cookie2.png" className="littleCookieImg"/>)</button>
                                <p>(+1 {littleCookieImg} par seconde)</p>
                            </div>

                            {this.state.mothers >= 10 ?
                                <div className="mt-3">
                                    <button className="btn btn-dark" disabled={this.state.counter < this.state.cooksPrice} onClick={this.recruitCook}>Recruter un cuisinier ({this.state.cooksPrice} <img src="./img/cookie2.png" className="littleCookieImg"/>)</button>
                                    <p>(+5 {littleCookieImg}) par seconde)</p>
                                </div>
                                :
                                <div>
                                    <p>Recrutez plus de grand-mères pour avoir plus de travailleurs</p>   
                                </div>
                            }

                            {this.state.cooks >= 10 &&
                                <div className="mt-3">
                                    <button className="btn btn-dark" disabled={this.state.counter < this.state.mothersCooksPrice} onClick={this.recruitMothersCook}>Recruter une grand mère cuisinière ({this.state.mothersCooksPrice} <img src="./img/cookie2.png" className="littleCookieImg"/>)</button>
                                    <p>(+10 <img src="./img/cookie2.png" className="littleCookieImg"/>) par seconde)</p>
                                </div>
                            }

                            {this.state.mothersCooks >= 10 &&
                                <div className="mt-3">
                                    <button className="btn btn-dark" disabled={this.state.counter < this.state.chiefsMothersPrice} onClick={this.recruitChiefMothers}>Recruter une grand mère cheffe cuisinière ({this.state.chiefsMothersPrice} <img src="./img/cookie2.png" className="littleCookieImg"/>)</button>
                                    <p>(+20 <img src="./img/cookie2.png" className="littleCookieImg"/>) par seconde)</p>
                                </div>
                            }
                    </div>   

                    <div className="col-4 text-center rounded">
                        
                        <h1 className="mb-5">Cookie clicker</h1>

                        <h2>Cookies : {Math.round(this.state.counter)}</h2>

                        {this.state.bigCookies > 0 && <h3>Gros cookies (10 {littleCookieImg}) : {this.state.bigCookies}</h3>}
                        
                        {this.state.demesuredCookies > 0 && <h3>Cookie démesuré (100 {littleCookieImg}) : {this.state.demesuredCookies}</h3>}
                        
                        {this.state.gargantueskCookies > 0 && <h3>Cookie gargantuesque (1000 {littleCookieImg}) : {this.state.gargantueskCookies}</h3>}

                        <h3>Cookies par seconde : {Math.round(this.state.cookiesPerSecond)}</h3>

                        <h3>Nombre de clicks : {this.state.clicks}</h3>

                        <img className="Cookie" onClick={this.incrementCounter} src={"./img/cookie2.png"}/>
                            {this.state.message && <div className="alert">{this.state.message}</div>}
                        <br/>
                        
                        <div className="container-fluid">
                            <div className="row">
                                <div className="col-1"></div>
                                <div className="col-10 padding10 text-center colorNougat rounded">
                                    <h3>Diminuer l'intervalle de temps !</h3>
                                    <h5>Il va vous falloir de gros cookies...</h5>
                                    <button className="btn btn-dark" disabled={this.state.bigCookies < 10} onClick={() => this.lowerInterval()}>Diminuer</button>
                                    <p>Actuellement : {this.state.newInterval / 1000} seconde</p> 
                                </div> 
                            </div>   
                            <div class="row">
                                <div className="col-1"></div>
                                <div className="col-10 padding10 text-center colorNougat">
                                    <h3>Augmenter les cookies générés !</h3>
                                    <button className="btn btn-dark" onClick={this.incrementClick} disabled={this.state.counter < this.state.incrementClickPrice}>Augmenter les cookies générés ({this.state.incrementClickPrice} {littleCookieImg})</button> 
                                    <br/> 
                                    Actuellement : {this.state.incrementClickCounter} cookie / click  
                                </div>
                            </div>
                        </div>
                        
                    </div>
                      
                
                    <div className="col-2 colorNougat rounded">
                        <div className="m-2 padding10">
                            <h4>Vos clickers :</h4>
                            <div className="paddingLeftNull list-group">
                                {this.state.mothers < 1 && 
                                    <div>
                                        <h2 className="text-center mt-5">Cliquez sur le {middleCookieImg}</h2>
                                    </div>
                                }                                
                                {this.state.mothers >= 1 && 
                                    // A factoriser
                                    <div className="my-2">
                                        - Grand-mères : {this.state.mothers} (+{this.state.mothers} cookies / s)
                                    </div>
                                }
                                {this.state.cooks >= 1 && 
                                    <div className="my-2">
                                        - Cuisiniers : {this.state.cooks} (+{this.state.cooks * 5} cookies / s)
                                    </div>
                                }
                                {this.state.mothersCooks >= 1 && 
                                    <div className="my-2">
                                        - Grands-mères cuisinières : {this.state.mothersCooks} (+{this.state.mothersCooks * 10} cookies / s)
                                    </div>
                                }
                                {this.state.chiefsMothers >= 1 && 
                                    <div className="my-2">
                                        - Grands-mères cheffes cuisinières : {this.state.chiefsMothers} (+{this.state.chiefsMothers * 20} cookies / s)
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                    <div className="col-2 border text-center colorNougat padding10 rounded">
                        <h3>Améliorations :</h3>

                        {this.state.mothers >= 2 ?
                            <div className="padding10">
                                <h5>Augmenter le revenu global de 100% !!</h5>
                                <h6>Attendez au maximum avant de cliquer pour maximiser votre boost !!</h6>
                                {this.state.successes.map((success, index) => success.complete === true &&
                                    <div key={index}>
                                        Succès : {success.name} <GlobalIncomeRiseButton key={index} disabled={success.isClicked === true} click={() => this.updateCookieCounterBySuccessSetClicked(index)}/>  
                                    </div>
                                )}
                            </div>
                            :
                            <h4 className="mt-5">Cliquez sur le {littleCookieImg}</h4>
                        }
                    </div> 
                </div>
            </div>

            <div className="container">
                <div className="row padding10">
                    <div className="col-4"></div>
                    <div className="col-4 rounded">
                        {// A factoriser
                            this.state.successes.map((success, index) => this.state.clicks >= success.clicks  &&
                            <div key={index} className="container" role="alert">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}  
                        
                        {this.state.successes.map((success, index) => this.state.mothers >= success.mothers  &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}     
                        
                        {this.state.successes.map((success, index) => this.state.cooks >= success.cooks &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}    
                        
                        {this.state.successes.map((success, index) => this.state.mothersCooks >= success.mothersCooks &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}   
                        
                        {this.state.successes.map((success, index) => this.state.chiefsMothers >= success.chiefsMothers &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}

                        {this.state.successes.map((success, index) => this.state.bigCookies >= success.bigCookies  &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}

                        {this.state.successes.map((success, index) => this.state.demesuredCookies >= success.demesuredCookies &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}
                        {this.state.successes.map((success, index) => this.state.gargantueskCookies >= success.gargantueskCookies &&
                            <div key={index} className="container">
                                <div className="col-12 text-center">
                                    <div className="alert alert-success alert-dismissible fade show">
                                        {success.message}
                                        <button type="button" className="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>  
                                    </div>
                                </div> 
                            </div>
                        )}
                    </div>
                </div>  
            </div>
        </div>
        )
    }

    
    componentDidUpdate(previousProps, previousState) {
        
        for (let i = 0; i < this.state.successes.length; i++) {
            if(this.state.clicks === this.state.successes[i].clicks && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.mothers === this.state.successes[i].mothers && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.cooks === this.state.successes[i].cooks && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.mothersCooks === this.state.successes[i].mothersCooks && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.chiefsMothers === this.state.successes[i].chiefsMothers && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.bigCookies === this.state.successes[i].bigCookies && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.demesuredCookies === this.state.successes[i].demesuredCookies && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
            if(this.state.gargantueskCookies === this.state.successes[i].gargantueskCookies && previousState.successes[i].complete === false){
                this.setComplete(i)
            }
        }
    }

    /**
     * Fonction qui rassemble les fonctions updateCookieCounterBySuccess() et setClicked() pour les appeler en même temps au click d'un bouton
     */
    updateCookieCounterBySuccessSetClicked(index) {
        this.updateCookieCounterBySuccess()
        this.setClicked(index)
    }

    /**
     * Met à jour le state isClicked d'un success
     */
    setClicked(index){
        const newSuccesses = this.state.successes;

        newSuccesses[index].isClicked = !newSuccesses[index].isClicked

        this.setState({
            successes: newSuccesses
        })
    }

    /**
     * Met à jour les states complete et isDisplayed d'un succès à son inverse (bool)    
     */
    setComplete(index) {
        
        const newSuccesses = this.state.successes;

        newSuccesses[index].complete = !newSuccesses[index].complete
        newSuccesses[index].isDisplayed = !newSuccesses[index].isDisplayed
        
        this.setState({
            successes: newSuccesses
        })
    }

    /**
     *  Met à jour l'intervale en la diminuant de 10 ms
     */
    lowerInterval() {
        this.setState({
            interval: this.state.interval - 10
        })
    }

    
    /**
     * Mettre à jour le nombre cookies en lui ajoutant le cookiesPerSecond
     */
    updateCookiesCounter() {
        this.setState({
            counter: this.state.counter + this.state.cookiesPerSecond
        })
    }

    /**
     *  Fonction qui permet d'améliorer le nombre de cookie par seconde suite à la réalisation d'un succès
     */
    updateCookieCounterBySuccess() {
        this.setState({
            cookiesPerSecond: this.state.cookiesPerSecond * 1.5,
        })
    }
    
    /**
     * Augmenter le débit des cookies de 1, mets à jour le prix des grandmas, le nombre de grandmas et déduis le prix dr la grandma au counter
     */
    recruitMother() {
        this.setState({
            counter: this.state.counter - this.state.mothersPrice,
            cookiesPerSecond: this.state.cookiesPerSecond + 1,
            mothers: this.state.mothers +1,
            mothersPrice : this.state.mothersPrice + 10
        })
    }

    /**
     * Augmenter le débit des cookies de 5, mets à jour le prix des cooks, le nombre de cooks et déduis le prix du cook au counter
     */
    recruitCook() {
        this.setState({
            counter: this.state.counter - this.state.cooksPrice,
            cookiesPerSecond: this.state.cookiesPerSecond +5,
            cooks: this.state.cooks +1,
            cooksPrice : this.state.cooksPrice + 100,
        })
    }

    /**
     * Augmenter le débit des cookies de 1, mets à jour le prix des grandmas, le nombre de grandmas et déduis le prix dr la grandma au counter
     */
    recruitMothersCook() {
        this.setState({
            counter: this.state.counter - this.state.mothersCooksPrice,
            cookiesPerSecond: this.state.cookiesPerSecond + 10,
            mothersCooks: this.state.mothersCooks +1,
            mothersCooksPrice : this.state.mothersCooksPrice + 1000,
        })
    }

    /**
     * Augmenter le débit des cookies de 1, mets à jour le prix des grandmas, le nombre de grandmas et déduis le prix dr la grandma au counter
     */
    recruitChiefMothers() {
        this.setState({
            counter: this.state.counter - this.state.chiefsMothersPrice,
            cookiesPerSecond: this.state.cookiesPerSecond + 20,
            chiefsMothers: this.state.chiefsMothers +1,
            chiefsMothersPrice : this.state.chiefsMothersPrice + 10000
        })
    }

    /**
     * Augmente le nombre de cookie généré au click
     */
    incrementClick() {
        this.setState({
            counter: this.state.counter - this.state.incrementClickPrice,
            incrementClickCounter: this.state.incrementClickCounter + 1,
            incrementClickPrice: this.state.incrementClickPrice + 7000,
        });
    }

    /**
     * Augmenter de 1 la valeur du state de counter et génère des augmentations aléatoires
     */
    incrementCounter() {
        this.setState({
            counter: this.state.counter + this.state.incrementClickCounter,
            clicks: this.state.clicks +1,
        })

        const a = Math.floor((Math.random() * 100) + 1);
        const b = Math.floor((Math.random() * 100) + 1);

        if (a === b) {
            this.setState({
                counter: this.state.counter + 9,
                bigCookies: this.state.bigCookies +1
            })
        }

        const c = Math.floor((Math.random() * 1000) + 1);
        const d = Math.floor((Math.random() * 1000) + 1);

        if (c === d) {
            this.setState({
                counter: this.state.counter + 99,
                demesuredCookies: this.state.demesuredCookies +1
            })
        }

        const e = Math.floor((Math.random() * 10000) + 1);
        const f = Math.floor((Math.random() * 10000) + 1);

        if (e === f) {
            this.setState({
                counter: this.state.counter + 999,
                gargantueskCookies: this.state.gargantueskCookies +1
            })
        }
      }
  }

  // Rendu dans le DOM
  ReactDOM.render(
    <App/>,
    document.getElementById('root')
  );
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</body>

</html>